<header>
    <nav>
      <div class="logo">
        <a href="#">
          <img src="https://smiline.com/wp-content/uploads/2024/08/smiline-logo.png" alt="Dental Logo" />
        </a>
      </div>
      <ul class="nav-links">
        <!-- <li><a href="#">Find Doctors</a></li>
        <li><a href="#">Video Consult</a></li>
        <li><a href="#">Medicines</a></li>
        <li><a href="#">Lab Tests</a></li>
        <li><a href="#">Surgeries</a></li>
        <li><a href="#">For Corporates</a></li>
        <li><a href="#">For Providers</a></li>
        <li><a href="#">Security & help</a></li> -->
      </ul>
      <div class="logo">
        <img src="assets/dental-logo.svg" alt="Dental Logo" />
      </div>
      <!-- <div class="hamburger">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div> -->
    </nav>
  </header>
  <div class="container">
  <div>
    <nav class="auth-nav">
        <ul class="auth-nav-list">
            <li class="auth-nav-item">
                <a (click)="loadForm()" class="auth-nav-link" [ngClass]="{ 'active': isLogin }">Login</a>
            </li>
        </ul>
    </nav>
  </div>
  <div class="login-container">
    <div class="login-image">
      <!-- <img src="assets/illustration.webp" alt="Login Image" class="login-image-content" /> -->
    </div>
    <div class="login-form" *ngIf="isLogin">
      <form [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()">
        <div class="form-group">
          <label for="mobileNumber">Mobile Number</label>
          <input
            type="text"
            id="mobileNumber"
            formControlName="mobileNumber"
            placeholder=" Enter Mobile Number"
            [ngClass]="{'ng-invalid': loginForm.get('mobileNumber')?.errors?.['invalidMobile'] && loginForm.get('mobileNumber')?.touched}"
          />
         </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input
            type="password"
            id="password"
            formControlName="password"
            placeholder="Enter Password"
          />
        </div>
        <div *ngIf="otpSent" class="form-group">
          <label for="otp">OTP</label>
          <input
            type="number"
            id="otp"
            formControlName="otp"
            placeholder="Enter OTP"
          />
        </div>

        <div class="actions">
          <div class="remember-me">
            <input type="checkbox" id="rememberMe" formControlName="rememberMe" />
            <label for="rememberMe">Remember me for 30 days</label>
          </div>
          <a href="#" class="forgot-password">
            {{ otpSent ? 'Resend OTP' : 'Forgot password?' }}
          </a>
        </div>

        <div class="actions" *ngIf="!isEmail">
          <div class="remember-me">
            <input type="checkbox" id="loginWithOtp" formControlName="loginWithOtp" />
            <label for="loginWithOtp">Login with OTP instead of password</label>
          </div>
        </div>

        <button type="submit" class="login-button"
        [disabled]="loginForm.invalid || (isOtpLogin && !otpSent && loginForm.get('mobileNumber')?.value.includes('@'))">
        {{ isOtpLogin ? (otpSent ? 'Verify OTP' : 'Send OTP') : 'Login' }}
       </button>
      </form>
    </div>
    <div class="login-form" *ngIf="!isLogin">
      <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="firstName">First Name</label>
          <input type="text" id="firstName" formControlName="firstName" placeholder="First Name" />
        </div>

        <div class="form-group">
          <label for="lastName">Last Name</label>
          <input type="text" id="lastName" formControlName="lastName" placeholder="Last Name" />
        </div>

        <div class="form-group">
          <label for="dob">Date of Birth</label>
          <p-calendar id="dob"
              formControlName="dob"
              [maxDate]="maxDate"
              [showIcon]="true"
              dateFormat="dd/mm/yy"
              [ngClass]="{'invalid-field': registrationForm.get('dob')?.invalid && registrationForm.get('dob')?.touched}"
              >
          </p-calendar>
        </div>

        <div class="form-group">
          <label for="gender">Gender</label>
          <p-dropdown id="gender"
                      formControlName="gender"
                      [options]="genderOptions"
                      placeholder="Select Gender"
                      [ngClass]="{'invalid-field': registrationForm.get('gender')?.invalid && registrationForm.get('gender')?.touched}">
          </p-dropdown>
        </div>

        <div class="form-group">
          <label for="mobileNumber">Mobile Number</label>
          <input type="text" id="mobileNumber" formControlName="mobileNumber" placeholder="Mobile Number" />
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" formControlName="email" placeholder="Email" />
        </div>

        <div class="form-group">
          <label for="password">Create Password</label>
          <input type="password" id="password" formControlName="password" placeholder="Password" />
        </div>

        <div class="form-group">
          <label for="address">Address</label>
          <input type="text" id="address" formControlName="address" placeholder="Address" />
        </div>
        <div class="actions">
          <div class="remember-me">
            <input type="checkbox" id="isDoctor" formControlName="isDoctor" />
            <label for="isDoctor">Are you a doctor?</label>
          </div>
        </div>
        <div class="actions">
          <div class="remember-me">
            <input type="checkbox" id="terms" formControlName="terms" />
            <label for="terms">Receive relevant offers and promotional communication from Practo</label>
          </div>
        </div>

        <button type="submit" class="login-button" [disabled]="registrationForm.invalid">Register</button>
      </form>
    </div>
  </div>
</div>

  <p-toast position="top-right"></p-toast>
